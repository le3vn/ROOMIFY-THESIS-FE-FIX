(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[759],{9079:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/manageGroup/[id]",function(){return s(8103)}])},9198:function(e,r,s){"use strict";var l=s(5893);s(7294);let t=e=>{let{visible:r,onConfirm:s,onCancel:t}=e;return(0,l.jsxs)("div",{className:"fixed inset-0 flex flex-col justify-center items-center bg-black bg-opacity-50 z-auto ".concat(r?"":"hidden"),children:[(0,l.jsx)("div",{className:"bg-purple-950 p-4 absolute top-32 rounded-full border-white border-4",children:(0,l.jsx)("img",{src:"/Assets/images/are-you-sure.png",alt:"Are you sure?",className:"w-[200px] rounded-full"})}),(0,l.jsx)("div",{className:"bg-white p-4 rounded-lg w-2/5 h-2/5",children:(0,l.jsxs)("div",{className:"h-full",children:[(0,l.jsx)("div",{className:"h-2/3 flex flex-col justify-end",children:(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Are you sure you want to edit the room?"}),(0,l.jsx)("h4",{className:"text-center",children:"Please make sure the information is correct before proceeding."})]})}),(0,l.jsx)("div",{className:"h-1/3 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{className:"bg-purple-950 h-[50px] w-[150px] rounded-full text-white text-lg font-semibold",onClick:s,children:"Yes, Edit"}),(0,l.jsx)("button",{className:"bg-gray-200 h-[50px] w-[150px] rounded-full text-black text-lg font-semibold",onClick:t,children:"Cancel"})]})})]})})]})};r.Z=t},4339:function(e,r,s){"use strict";var l=s(5893);s(7294);let t=e=>{let{visible:r,onConfirm:s,isSuccess:t,onCancel:a}=e;return(0,l.jsxs)("div",{className:"fixed inset-0 flex flex-col justify-center items-center bg-black bg-opacity-50 z-auto ".concat(r?"":"hidden"),children:[(0,l.jsx)("div",{className:"bg-purple-950 p-4 absolute top-32 rounded-full border-white border-4",children:(0,l.jsx)("img",{src:t?"/Assets/images/succeed.png":"/Assets/images/person-sad.png",alt:"Success or Error",className:"w-[200px] rounded-full"})}),(0,l.jsx)("div",{className:"bg-white p-4 rounded-lg w-2/5 h-2/5",children:(0,l.jsxs)("div",{className:"h-full",children:[(0,l.jsx)("div",{className:"h-2/3 flex flex-col justify-end",children:t?(0,l.jsxs)("div",{className:"flex flex-col items-center px-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"You're All Set!"}),(0,l.jsx)("h4",{className:"text-center",children:"Your room has been successfully updated. Check your building list for the changes!"})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Oh no..."}),(0,l.jsx)("h4",{className:"text-center",children:"Something went wrong. Please try again later."})]})}),(0,l.jsx)("div",{className:"h-1/3 flex items-center justify-center",children:(0,l.jsx)("div",{className:"flex gap-4",children:(0,l.jsx)("button",{className:"bg-purple-950 h-[50px] w-[150px] rounded-full text-white text-lg font-semibold",onClick:t?s:a,children:t?"Okay, Great!":"Try Again"})})})]})})]})};r.Z=t},8103:function(e,r,s){"use strict";s.r(r);var l=s(5893),t=s(7294),a=s(1163),n=s(6738),o=s(6985),c=s(7814),i=s(9417),d=s(7536),p=s(6312),u=s(1604),m=s(1061),x=s(6551),h=s(3939),f=s(9734),b=s(161),v=s(4339),j=s(9198);let N=u.z.object({GroupName:u.z.string(),LSCApprover:u.z.string(),SLCApprover:u.z.string(),SSOApprover:u.z.string(),BMApprover:u.z.string()}),g=()=>{let e=(0,a.useRouter)(),{id:r}=e.query,{fetchPOSTWithFormData:s}=(0,x.L)(),u=(0,h.f)(),{data:b}=(0,f.ZP)("".concat(m.j.getGroupDetail,"?id=").concat(r),u),{handleSubmit:g,control:A,reset:S}=(0,d.cI)({resolver:(0,p.F)(N)}),[w,C]=(0,t.useState)(!1),[y,k]=(0,t.useState)(!1),[L,E]=(0,t.useState)(!1),O=e=>(0,f.ZP)("".concat(m.j.getUser,"?RoleName=").concat(e),u),{data:_}=O("SSO"),{data:G}=O("LSC"),{data:Z}=O("SLC"),{data:z}=O("BM");(0,t.useEffect)(()=>{b&&S({GroupName:b.groupName,SSOApprover:b.ssoApprover,LSCApprover:b.lscApprover,SLCApprover:b.slcApprover,BMApprover:b.bmApprover})},[b,S]);let B=async e=>{let l=new FormData;l.append("GroupName",e.GroupName),l.append("SSOApprover",e.SSOApprover),l.append("SLCApprover",e.SLCApprover),l.append("LSCApprover",e.LSCApprover),l.append("BMApprover",e.BMApprover);try{await s(m.j.editGroup(r),l),E(!0),k(!0)}catch(e){E(!1),k(!0),console.error("Update failed:",e)}},M=()=>{e.back()},P=()=>{C(!1)},I=()=>{C(!1),g(B)()},Q=()=>{k(!1),e.push("/manage")};return(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("button",{className:"bg-white rounded-full w-10 h-10 flex items-center justify-center",onClick:M,children:(0,l.jsx)(c.G,{icon:i.A35,className:"inline"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:"/Assets/images/edit-group.png",alt:"manage",width:410,height:40,className:"mt-6 mb-6"}),(0,l.jsxs)("form",{onSubmit:g(B),className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-normal text-base mb-2",children:"Group Name"}),(0,l.jsx)(d.Qr,{name:"GroupName",control:A,render:e=>{let{field:r}=e;return(0,l.jsx)(n.Z,{...r,placeholder:"Enter group name",className:"w-full mb-3 rounded-lg h-8"})}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-normal text-base mb-2",children:"SSO Approver"}),(0,l.jsx)(d.Qr,{name:"SSOApprover",control:A,render:e=>{let{field:r}=e;return(0,l.jsx)(o.Z,{...r,placeholder:"Enter SSO Approver",className:"w-full mb-3 rounded-lg h-8",options:null==_?void 0:_.users.map(e=>({label:e.userName,value:e.userId}))})}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-normal text-base mb-2",children:"SLC Approver"}),(0,l.jsx)(d.Qr,{name:"SLCApprover",control:A,render:e=>{let{field:r}=e;return(0,l.jsx)(o.Z,{...r,placeholder:"Enter SLC Approver",className:"w-full mb-3 rounded-lg h-8",options:null==Z?void 0:Z.users.map(e=>({label:e.userName,value:e.userId}))})}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-normal text-base mb-2",children:"LSC Approver"}),(0,l.jsx)(d.Qr,{name:"LSCApprover",control:A,render:e=>{let{field:r}=e;return(0,l.jsx)(o.Z,{...r,placeholder:"Enter LSC Approver",className:"w-full mb-3 rounded-lg h-8",options:null==G?void 0:G.users.map(e=>({label:e.userName,value:e.userId}))})}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-white font-normal text-base mb-2",children:"BM Approver"}),(0,l.jsx)(d.Qr,{name:"BMApprover",control:A,render:e=>{let{field:r}=e;return(0,l.jsx)(o.Z,{...r,placeholder:"Enter BM Approver",className:"w-full mb-3 rounded-lg h-8",options:null==z?void 0:z.users.map(e=>({label:e.userName,value:e.userId}))})}})]}),(0,l.jsx)("div",{className:"flex justify-center mt-6",children:(0,l.jsx)("button",{type:"button",className:"bg-purple-950 px-14 py-2 font-bold text-white rounded-full text-xl",onClick:()=>C(!0),children:"Save Changes"})})]})]}),(0,l.jsx)(j.Z,{visible:w,onConfirm:I,onCancel:P}),(0,l.jsx)(v.Z,{visible:y,onConfirm:Q,isSuccess:L,onCancel:Q})]})};g.layout=b.f,r.default=g}},function(e){e.O(0,[976,634,738,397,536,760,161,774,888,179],function(){return e(e.s=9079)}),_N_E=e.O()}]);
//# sourceMappingURL=[id]-f1909b1cf8013261.js.map