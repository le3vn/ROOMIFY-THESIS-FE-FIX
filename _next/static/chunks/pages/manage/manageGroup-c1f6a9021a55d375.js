(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[578],{5081:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var o=n(4184),i=n.n(o),s=n(8423),a=n(7294),l=n(3124),r=n(6159),c=n(7431),p=n(7968),d=n(5503),m=n(4747);let u=new c.E4("antSpinMove",{to:{opacity:1}}),h=new c.E4("antRotate",{to:{transform:"rotate(405deg)"}}),x=e=>({[`${e.componentCls}`]:Object.assign(Object.assign({},(0,m.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${e.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${e.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-e.spinDotSize/2},[`${e.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(e.spinDotSize-e.fontSize)/2+2,textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSize/2)-10},"&-sm":{[`${e.componentCls}-dot`]:{margin:-e.spinDotSizeSM/2},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeSM-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeSM/2)-10}},"&-lg":{[`${e.componentCls}-dot`]:{margin:-(e.spinDotSizeLG/2)},[`${e.componentCls}-text`]:{paddingTop:(e.spinDotSizeLG-e.fontSize)/2+2},[`&${e.componentCls}-show-text ${e.componentCls}-dot`]:{marginTop:-(e.spinDotSizeLG/2)-10}}},[`${e.componentCls}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${e.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${e.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:e.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(e.spinDotSize-e.marginXXS/2)/2,height:(e.spinDotSize-e.marginXXS/2)/2,backgroundColor:e.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:u,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:h,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeSM,i:{width:(e.spinDotSizeSM-e.marginXXS/2)/2,height:(e.spinDotSizeSM-e.marginXXS/2)/2}},[`&-lg ${e.componentCls}-dot`]:{fontSize:e.spinDotSizeLG,i:{width:(e.spinDotSizeLG-e.marginXXS)/2,height:(e.spinDotSizeLG-e.marginXXS)/2}},[`&${e.componentCls}-show-text ${e.componentCls}-text`]:{display:"block"}})});var g=(0,p.Z)("Spin",e=>{let t=(0,d.TS)(e,{spinDotDefault:e.colorTextDescription,spinDotSize:e.controlHeightLG/2,spinDotSizeSM:.35*e.controlHeightLG,spinDotSizeLG:e.controlHeight});return[x(t)]},{contentHeight:400}),f=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)0>t.indexOf(o[i])&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n};let v=null,b=e=>{let{spinPrefixCls:t,spinning:n=!0,delay:o=0,className:c,rootClassName:p,size:d="default",tip:m,wrapperClassName:u,style:h,children:x,hashId:g}=e,b=f(e,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId"]),[S,N]=a.useState(()=>n&&(!n||!o||!!isNaN(Number(o))));a.useEffect(()=>{if(n){var e;let t=function(e,t,n){var o,i=n||{},s=i.noTrailing,a=void 0!==s&&s,l=i.noLeading,r=void 0!==l&&l,c=i.debounceMode,p=void 0===c?void 0:c,d=!1,m=0;function u(){o&&clearTimeout(o)}function h(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];var l=this,c=Date.now()-m;function h(){m=Date.now(),t.apply(l,i)}function x(){o=void 0}!d&&(r||!p||o||h(),u(),void 0===p&&c>e?r?(m=Date.now(),a||(o=setTimeout(p?x:h,e))):h():!0!==a&&(o=setTimeout(p?x:h,void 0===p?e-c:e)))}return h.cancel=function(e){var t=(e||{}).upcomingOnly;u(),d=!(void 0!==t&&t)},h}(o,()=>{N(!0)},{debounceMode:!1!==(void 0!==(e=({}).atBegin)&&e)});return t(),()=>{var e;null===(e=null==t?void 0:t.cancel)||void 0===e||e.call(t)}}N(!1)},[o,n]);let j=a.useMemo(()=>void 0!==x,[x]),{direction:w}=a.useContext(l.E_),y=i()(t,{[`${t}-sm`]:"small"===d,[`${t}-lg`]:"large"===d,[`${t}-spinning`]:S,[`${t}-show-text`]:!!m,[`${t}-rtl`]:"rtl"===w},c,p,g),C=i()(`${t}-container`,{[`${t}-blur`]:S}),$=(0,s.Z)(b,["indicator","prefixCls"]),D=a.createElement("div",Object.assign({},$,{style:h,className:y,"aria-live":"polite","aria-busy":S}),function(e,t){let{indicator:n}=t,o=`${e}-dot`;return null===n?null:(0,r.l$)(n)?(0,r.Tm)(n,{className:i()(n.props.className,o)}):(0,r.l$)(v)?(0,r.Tm)(v,{className:i()(v.props.className,o)}):a.createElement("span",{className:i()(o,`${e}-dot-spin`)},a.createElement("i",{className:`${e}-dot-item`}),a.createElement("i",{className:`${e}-dot-item`}),a.createElement("i",{className:`${e}-dot-item`}),a.createElement("i",{className:`${e}-dot-item`}))}(t,e),m?a.createElement("div",{className:`${t}-text`},m):null);return j?a.createElement("div",Object.assign({},$,{className:i()(`${t}-nested-loading`,u,g)}),S&&a.createElement("div",{key:"loading"},D),a.createElement("div",{className:C,key:"container"},x)):D},S=e=>{let{prefixCls:t}=e,{getPrefixCls:n}=a.useContext(l.E_),o=n("spin",t),[i,s]=g(o),r=Object.assign(Object.assign({},e),{spinPrefixCls:o,hashId:s});return i(a.createElement(b,Object.assign({},r)))};S.setDefaultIndicator=e=>{v=e};var N=S},3620:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/manageGroup",function(){return n(192)}])},192:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o=n(5893),i=n(7294),s=n(1163),a=n(6738),l=n(6985),r=n(5081),c=n(9417),p=n(7814),d=n(6551),m=n(1061),u=n(161),h=n(9734),x=n(3939);let g=e=>{let{visible:t,onConfirm:n,isSuccess:i}=e;return(0,o.jsxs)("div",{className:"fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-auto ".concat(t?"":"hidden"),children:[(0,o.jsx)("div",{className:"bg-purple-950 p-4 absolute top-32 rounded-full border-white border-4",children:(0,o.jsx)("img",{src:i?"/Assets/images/succeed.png":"/Assets/images/person-sad.png",alt:i?"Success":"Error",className:"w-[200px] rounded-full"})}),(0,o.jsx)("div",{className:"bg-white p-4 rounded-lg w-2/5 h-2/5",children:(0,o.jsxs)("div",{className:"h-full",children:[(0,o.jsx)("div",{className:"h-2/3 flex flex-col justify-end",children:i?(0,o.jsxs)("div",{className:"flex flex-col items-center px-8",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"You're All Set!"}),(0,o.jsx)("h4",{className:"text-center",children:"Your room has been successfully added. Check the management page for more details!"})]}):(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"Oh no..."}),(0,o.jsx)("h4",{className:"text-center",children:"Something went wrong. Please try again later."})]})}),(0,o.jsx)("div",{className:"h-1/3 flex items-center justify-center",children:(0,o.jsx)("button",{className:"bg-purple-950 h-[50px] w-[150px] rounded-full text-white text-lg font-semibold",onClick:n,children:i?"Okay, Great!":"Okay :("})})]})})]})},f=e=>{let{visible:t,onConfirm:n,onCancel:i}=e;return(0,o.jsxs)("div",{className:"fixed inset-0 flex justify-center items-center bg-black bg-opacity-50 z-auto ".concat(t?"":"hidden"),children:[(0,o.jsx)("div",{className:"bg-purple-950 p-4 absolute top-32 rounded-full border-white border-4",children:(0,o.jsx)("img",{src:"/Assets/images/are-you-sure.png",alt:"Are you sure?",className:"w-[200px] rounded-full"})}),(0,o.jsx)("div",{className:"bg-white p-4 rounded-lg w-2/5 h-2/5",children:(0,o.jsxs)("div",{className:"h-full",children:[(0,o.jsx)("div",{className:"h-2/3 flex flex-col justify-end",children:(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"Add Group?"}),(0,o.jsx)("h4",{className:"text-center",children:"Make sure to input the right data and requirements :)"})]})}),(0,o.jsx)("div",{className:"h-1/3 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)("button",{className:"bg-purple-950 h-[50px] w-[150px] rounded-full text-white text-lg font-semibold",onClick:n,children:"Submit"}),(0,o.jsx)("button",{className:"bg-gray-200 h-[50px] w-[150px] rounded-full text-black text-lg font-semibold",onClick:i,children:"Cancel"})]})})]})})]})},v=()=>{let e=(0,s.useRouter)(),t=(0,x.f)(),[n,u]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),{fetchPOSTWithFormData:S}=(0,d.L)(),[N,j]=(0,i.useState)(!1),[w,y]=(0,i.useState)(!1),[C,$]=(0,i.useState)({lscApprover:"",ssoApprover:"",slcApprover:"",bmApprover:"",groupName:""}),D=e=>(0,h.ZP)("".concat(m.j.getUser,"?RoleName=").concat(e),t),{data:A}=D("SSO"),{data:z}=D("LSC"),{data:E}=D("SLC"),{data:O}=D("BM"),k=async()=>{b(!1),u(!0);let e=new FormData;e.append("GroupName",C.groupName),e.append("SSOApprover",C.ssoApprover),e.append("LSCApprover",C.lscApprover),e.append("SLCApprover",C.slcApprover),e.append("BMApprover",C.bmApprover);try{await S(m.j.createGroup,e),j(!0)}catch(e){j(!1)}finally{u(!1),y(!0)}},I=()=>{e.back()},L=(e,t)=>{$({...C,["".concat(e,"Approver")]:t})};return(0,o.jsxs)("div",{className:"mt-4 h-[710px] overflow-y-auto",children:[(0,o.jsx)("button",{className:"bg-white rounded-full w-10 h-10 flex items-center justify-center",onClick:I,children:(0,o.jsx)(p.G,{icon:c.A35,className:"inline"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:"/Assets/images/add-group.png",alt:"manage",width:410,height:40,className:"mt-6 mb-6"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-white font-normal text-base mb-2",children:"Group Name"}),(0,o.jsx)(a.Z,{value:C.groupName,onChange:e=>$({...C,groupName:e.target.value}),placeholder:"Enter room capacity",className:"w-full mb-3 rounded-md"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-white font-normal text-base mb-2",children:"SSO Approver"}),(0,o.jsx)(l.Z,{value:C.ssoApprover,onChange:e=>L("sso",e),placeholder:"Select SSO approver",className:"w-full mb-3 rounded-md",options:null==A?void 0:A.users.map(e=>({label:e.userName,value:e.userId}))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-white font-normal text-base mb-2",children:"LSC Approver"}),(0,o.jsx)(l.Z,{value:C.lscApprover,onChange:e=>L("lsc",e),placeholder:"Select LSC approver",className:"w-full mb-3 rounded-md",options:null==z?void 0:z.users.map(e=>({label:e.userName,value:e.userId}))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-white font-normal text-base mb-2",children:"SLC Approver"}),(0,o.jsx)(l.Z,{value:C.slcApprover,onChange:e=>L("slc",e),placeholder:"Select SLC approver",className:"w-full mb-3 rounded-md",options:null==E?void 0:E.users.map(e=>({label:e.userName,value:e.userId}))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-white font-normal text-base mb-2",children:"BM Approver"}),(0,o.jsx)(l.Z,{value:C.bmApprover,onChange:e=>L("bm",e),placeholder:"Select BM approver",className:"w-full mb-3 rounded-md",options:null==O?void 0:O.users.map(e=>({label:e.userName,value:e.userId}))})]}),(0,o.jsx)("div",{className:"mt-6 flex justify-center",children:(0,o.jsx)(r.Z,{spinning:n,children:(0,o.jsx)("button",{onClick:()=>b(!0),disabled:!C.groupName||!C.ssoApprover||!C.lscApprover||!C.slcApprover||!C.bmApprover||n,className:"bg-purple-950 px-14 py-2 font-bold text-white rounded-full text-xl",children:"Add Room"})})})]}),(0,o.jsx)(f,{visible:v,onConfirm:k,onCancel:()=>b(!1)}),(0,o.jsx)(g,{visible:w,isSuccess:N,onConfirm:()=>{y(!1),e.push("/manage")}})]})};v.layout=u.f;var b=v}},function(e){e.O(0,[976,634,738,397,161,774,888,179],function(){return e(e.s=3620)}),_N_E=e.O()}]);
//# sourceMappingURL=manageGroup-c1f6a9021a55d375.js.map