(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{379:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboardAdmin",function(){return r(5041)}])},7286:function(e,t,r){"use strict";var n=r(5893);r(7294);var o=r(5675),u=r.n(o);let l=()=>(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(u(),{src:"/Assets/images/font-title-master.png",alt:"Title Master",width:720,height:100}),(0,n.jsxs)("div",{className:"text-center mt-2",children:[(0,n.jsx)("p",{className:"text-white text-sm",children:"Unlock the door to convenience with Roomify. : Where booking a room becomes"}),(0,n.jsx)("p",{className:"text-white text-sm",children:"as effortless as turning the key."})]})]});t.Z=l},5182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientHookInServerComponentError=function(e){},(0,r(2648).Z)(r(7294)),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1414:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSearchParams=function(){l.clientHookInServerComponentError("useSearchParams");let e=n.useContext(u.SearchParamsContext),t=n.useMemo(()=>e?new m(e):null,[e]);return t},t.usePathname=function(){return l.clientHookInServerComponentError("usePathname"),n.useContext(u.PathnameContext)},Object.defineProperty(t,"ServerInsertedHTMLContext",{enumerable:!0,get:function(){return i.ServerInsertedHTMLContext}}),Object.defineProperty(t,"useServerInsertedHTML",{enumerable:!0,get:function(){return i.useServerInsertedHTML}}),t.useRouter=function(){l.clientHookInServerComponentError("useRouter");let e=n.useContext(o.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e},t.useParams=function(){l.clientHookInServerComponentError("useParams");let e=n.useContext(o.GlobalLayoutRouterContext);return e?function e(t){var r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t[1],u=null!=(r=o.children)?r:Object.values(o)[0];if(!u)return n;let l=u[0],s=Array.isArray(l),i=s?l[1]:l;return!i||i.startsWith("__PAGE__")?n:(s&&(n[l[0]]=l[1]),e(u,n))}(e.tree):null},t.useSelectedLayoutSegments=h,t.useSelectedLayoutSegment=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"children";l.clientHookInServerComponentError("useSelectedLayoutSegment");let t=h(e);return 0===t.length?null:t[0]},Object.defineProperty(t,"redirect",{enumerable:!0,get:function(){return a.redirect}}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return c.notFound}});var n=r(7294),o=r(4224),u=r(8463),l=r(5182),s=r(2526),i=r(3014),a=r(8781),c=r(8147);let d=Symbol("internal for urlsearchparams readonly");function f(){return Error("ReadonlyURLSearchParams cannot be modified")}class m{[Symbol.iterator](){return this[d][Symbol.iterator]()}append(){throw f()}delete(){throw f()}set(){throw f()}sort(){throw f()}constructor(e){this[d]=e,this.entries=e.entries.bind(e),this.forEach=e.forEach.bind(e),this.get=e.get.bind(e),this.getAll=e.getAll.bind(e),this.has=e.has.bind(e),this.keys=e.keys.bind(e),this.values=e.values.bind(e),this.toString=e.toString.bind(e)}}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"children";l.clientHookInServerComponentError("useSelectedLayoutSegments");let{tree:t}=n.useContext(o.LayoutRouterContext);return function e(t,r){let n,o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(o)n=t[1][r];else{var l;let e=t[1];n=null!=(l=e.children)?l:Object.values(e)[0]}if(!n)return u;let i=n[0],a=s.getSegmentValue(i);return!a||a.startsWith("__PAGE__")?u:(u.push(a),e(n,r,!1,u))}(t,e)}t.ReadonlyURLSearchParams=m,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8147:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notFound=function(){let e=Error(r);throw e.digest=r,e},t.isNotFoundError=function(e){return(null==e?void 0:e.digest)===r};let r="NEXT_NOT_FOUND";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8781:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redirect=function(e){let t=Error(r);throw t.digest="".concat(r,";").concat(e),t},t.isRedirectError=n,t.getURLFromRedirectError=function(e){return n(e)?e.digest.slice(r.length+1):null};let r="NEXT_REDIRECT";function n(e){return"string"==typeof(null==e?void 0:e.digest)&&e.digest.startsWith(r+";")&&e.digest.length>r.length+1}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2526:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSegmentValue=function(e){return Array.isArray(e)?e[1]:e},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3014:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useServerInsertedHTML=function(e){let t=n.useContext(o);t&&t(e)},t.ServerInsertedHTMLContext=void 0;var n=(0,r(1598).Z)(r(7294));let o=n.default.createContext(null);t.ServerInsertedHTMLContext=o},5041:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var n=r(5893),o=r(7294),u=r(161),l=r(1835),s=r(6738),i=r(6985),a=r(7814),c=r(9417),d=r(4697),f=r(7286),m=r(9734),h=r(1061),p=r(3939),v=r(9332),x=r(3299);let g=e=>{let{search:t,building:r,room:u}=e,l=(0,v.useSearchParams)(),s=(0,p.f)(),i=(0,v.useRouter)(),{data:a}=(0,x.useSession)(),c=null==a?void 0:a.user;console.log(null==c?void 0:c.id),(0,o.useEffect)(()=>{let e=new URLSearchParams(l.toString());t?e.set("Search",t):e.delete("Search"),r?e.set("BuildingId",r):e.delete("BuildingId"),u?e.set("RoomId",r):e.delete("RoomId"),i.push("?".concat(e.toString()))},[t,r,u,l,i]);let{data:d}=(0,m.ZP)("".concat(h.j.getBookingTraffic,"?Search=").concat(t).concat(r?"&BuildingId=".concat(r):"").concat(u?"&RoomId=".concat(u):""),s);return(0,n.jsx)("div",{className:"grid grid-cols-3 gap-5 h-[530px] overflow-y-auto",children:null==d?void 0:d.approverViewModel.map(e=>{let t=e.userRole;return console.log(t),(0,n.jsxs)("div",{className:"bg-white rounded-lg p-4 h-[510px] overflow-y-auto",children:[(0,n.jsx)("div",{className:"relative mb-4",children:(0,n.jsx)("img",{src:e.roomMinioUrl,alt:"",className:"rounded-lg w-full h-48 object-cover"})}),(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsx)("h1",{className:"text-2xl font-semibold max-w-[170px] break-words",children:e.bookingDescription})}),(0,n.jsx)("div",{children:(0,n.jsx)("h3",{className:"text-base mb-1",children:e.roomName})}),(0,n.jsxs)("div",{className:"mb-1",children:[(0,n.jsx)("p",{className:"text-xs mb-1",children:"Submitted by :"}),"Student"==t||"Lecturer"==t?(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("img",{src:e.bookerMinioUrl,alt:"",className:"w-8 h-8 rounded-full border-2 border-purple-950"}),(0,n.jsxs)("p",{children:[e.bookingInstitutionalId," - ",e.name]})]}):(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("img",{src:e.bookerMinioUrl,alt:"",className:"w-8 h-8 rounded-full border-2 border-purple-950"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[e.bookingInstitutionalId," - ",e.bookingOrganizationName]}),(0,n.jsx)("p",{children:e.name})]})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"text-xs mb-1",children:"Approvals from :"})}),e.approverHistory.map(e=>(0,n.jsxs)("div",{className:"relative flex items-center gap-2 group",children:[(0,n.jsx)("img",{src:e.approverMinioUrl,alt:"",className:"rounded-full my-1 border-2 w-8 h-8 ".concat(1===e.statusId?"border-yellow-600":2===e.statusId?"border-green-600":"border-red-600")}),(0,n.jsx)("p",{className:"",children:e.approverUserName}),(0,n.jsxs)("div",{className:"absolute left-0 bottom-12 hidden group-hover:block bg-gray-800 text-white text-sm p-2 rounded-md shadow-lg",children:[(0,n.jsxs)("p",{children:["Status: ",e.statusName]}),(0,n.jsxs)("p",{children:[4===e.statusId?"Cancelled at :":3===e.statusId?"Rejected at:":"Approved at:"," ","0001-01-01T00:00:00"===e.approvedAt?"N/A":e.approvedAt]})]})]},e.approverUserId))]},e.bookingId)})})},b={token:{borderRadius:100}},j=()=>{let[e,t]=(0,o.useState)(""),[r]=(0,d.Nr)(e,500),[u,v]=(0,o.useState)(null),[x,j]=(0,o.useState)(null),y=(0,p.f)(),{data:_}=(0,m.ZP)(h.j.getBuilding,y),{data:S}=(0,m.ZP)(h.j.getAllRoom,y),w=e=>{v(e)},N=e=>{j(e)},P=()=>{v(null),j(null)};return(0,n.jsx)(l.ZP,{theme:b,children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(f.Z,{}),(0,n.jsxs)("div",{className:"mt-8 w-full flex justify-center gap-4 mb-8",children:[(0,n.jsx)(s.Z,{placeholder:"Search",prefix:(0,n.jsx)(a.G,{icon:c.Y$T}),className:"w-6/7 rounded-2xl h-[32px]",value:e,onChange:e=>t(e.target.value)}),(0,n.jsx)(i.Z,{placeholder:"Enter Building",className:"w-1/7 rounded-2xl h-[25px]",value:null!=u?u:void 0,onChange:w,options:null==_?void 0:_.buildingList.map(e=>({label:e.name,value:e.buildingId}))}),(0,n.jsx)(i.Z,{placeholder:"Enter Room",className:"w-1/7 rounded-2xl h-[30px]",value:null!=x?x:void 0,onChange:N,options:null==S?void 0:S.roomList.map(e=>({label:e.name,value:e.roomId}))}),(0,n.jsx)("button",{onClick:P,className:"h-[32px] bg-purple-950 text-white rounded-full w-[150px]",style:{paddingLeft:"10px",paddingRight:"10px"},children:"Clear Filter"})]}),(0,n.jsx)("div",{className:"h-[530px] w-full overflow-y-auto",children:(0,n.jsx)(g,{search:r,building:u,room:x})})]})})};j.layout=u.f;var y=j},9332:function(e,t,r){e.exports=r(1414)},4697:function(e,t,r){"use strict";r.d(t,{Nr:function(){return u}});var n=r(7294);function o(e,t){return e===t}function u(e,t,r){var u=r&&r.equalityFn||o,l=(0,n.useRef)(e),s=(0,n.useState)({})[1],i=function(e,t,r){var o=this,u=(0,n.useRef)(null),l=(0,n.useRef)(0),s=(0,n.useRef)(null),i=(0,n.useRef)([]),a=(0,n.useRef)(),c=(0,n.useRef)(),d=(0,n.useRef)(e),f=(0,n.useRef)(!0);d.current=e;var m="undefined"!=typeof window,h=!t&&0!==t&&m;if("function"!=typeof e)throw TypeError("Expected a function");t=+t||0;var p=!!(r=r||{}).leading,v=!("trailing"in r)||!!r.trailing,x="maxWait"in r,g="debounceOnServer"in r&&!!r.debounceOnServer,b=x?Math.max(+r.maxWait||0,t):null;return(0,n.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,n.useMemo)(function(){var e=function(e){var t=i.current,r=a.current;return i.current=a.current=null,l.current=e,c.current=d.current.apply(r,t)},r=function(e,t){h&&cancelAnimationFrame(s.current),s.current=h?requestAnimationFrame(e):setTimeout(e,t)},n=function(e){if(!f.current)return!1;var r=e-u.current;return!u.current||r>=t||r<0||x&&e-l.current>=b},j=function(t){return s.current=null,v&&i.current?e(t):(i.current=a.current=null,c.current)},y=function e(){var o=Date.now();if(n(o))return j(o);if(f.current){var s=t-(o-u.current);r(e,x?Math.min(s,b-(o-l.current)):s)}},_=function(){if(m||g){var d=Date.now(),h=n(d);if(i.current=[].slice.call(arguments),a.current=o,u.current=d,h){if(!s.current&&f.current)return l.current=u.current,r(y,t),p?e(u.current):c.current;if(x)return r(y,t),e(u.current)}return s.current||r(y,t),c.current}};return _.cancel=function(){s.current&&(h?cancelAnimationFrame(s.current):clearTimeout(s.current)),l.current=0,i.current=u.current=a.current=s.current=null},_.isPending=function(){return!!s.current},_.flush=function(){return s.current?j(Date.now()):c.current},_},[p,x,t,b,v,h,m,g])}((0,n.useCallback)(function(e){l.current=e,s({})},[s]),t,r),a=(0,n.useRef)(e);return u(a.current,e)||(i(e),a.current=e),[l.current,i]}}},function(e){e.O(0,[976,634,738,397,675,161,774,888,179],function(){return e(e.s=379)}),_N_E=e.O()}]);
//# sourceMappingURL=dashboardAdmin-65a5bc2a7be1bbc9.js.map