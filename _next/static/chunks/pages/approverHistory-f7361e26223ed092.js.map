{"version":3,"file":"static/chunks/pages/approverHistory-f7361e26223ed092.js","mappings":"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","sources":["webpack://_N_E/?05d9","webpack://_N_E/./components/Modals/ApproversModals/ApproveModals/PreviewModal.tsx","webpack://_N_E/./pages/approverHistory/index.tsx","webpack://_N_E/<anon>"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/approverHistory\",\n      function () {\n        return require(\"private-next-pages/approverHistory/index.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/approverHistory\"])\n      });\n    }\n  ","// components/PreviewModal.tsx\nimport { faX } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useEffect } from 'react';\n\ninterface PreviewModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    minioUrl: string;\n}\n\nconst PreviewModal: React.FC<PreviewModalProps> = ({ isOpen, onClose, minioUrl }) => {\n    useEffect(() => {\n        if (isOpen) {\n            document.body.style.overflow = 'hidden';\n        } else {\n            document.body.style.overflow = 'unset';\n        }\n\n        return () => {\n            document.body.style.overflow = 'unset';\n        };\n    }, [isOpen]);\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\n            <div className=\"bg-white p-4 rounded-lg w-3/4 h-3/4 overflow-auto\">\n                <div className=\"flex justify-end\">\n                <button className='bg-gray-200 w-10 h-10 rounded-full' onClick={onClose}>\n                    <FontAwesomeIcon icon={faX}/>\n                </button>\n                </div>\n                <div className=\"flex justify-center items-center h-full p-6\">\n                    {/* Assuming the minioUrl is a valid image URL */}\n                    <img src={minioUrl} alt=\"Evidence Preview\" className=\"max-w-full max-h-full\" />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default PreviewModal;\n","import React, { useEffect, useState } from 'react';\nimport { WithDefaultLayout } from '../../components/DefautLayout';\nimport { Page } from '../../types/Page';\nimport { User } from 'next-auth';\nimport { useSession } from 'next-auth/react';\nimport { BackendApiUrl } from '@/functions/BackendApiUrl';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDownload, faEye, faSearch } from '@fortawesome/free-solid-svg-icons';\nimport PreviewModal from '@/components/Modals/ApproversModals/ApproveModals/PreviewModal';\nimport { useRouter } from 'next/router';\n\ninterface SessionBooked {\n    sessionId: number;\n    sessionName: string;\n    startTime: string;\n    endTime: string;\n}\n\ninterface ApproverHistory {\n    approverUserId: string;\n    approverUserName: string;\n    statusId: number;\n    statusName: string;\n    approverMinioUrl: string;\n    approvedAt: string;\n}\n\ninterface BookingData {\n    bookingId: string;\n    bookingDescription: string;\n    bookerName: string;\n    roomId: number;\n    roomName: string;\n    evidenceMinioUrl: string;\n    isCanceled: boolean;\n    roomMinioUrl: string;\n    bookingInstitutionalId: string;\n    bookingOrganizationName: string;\n    bookerUserRole: string;\n    bookerMinioUrl: string;\n    bookingDate: string;\n    sessionList: SessionBooked[];\n    approverHistory: ApproverHistory[];\n}\n\ninterface BookingDetailView {\n    totalData: number;\n    approverHistoryViewModel: BookingData[];\n}\n\nconst ApproverHistory: Page = () => {\n    const router = useRouter();\n    const { data: session } = useSession();\n    const user = session?.user as User;\n    const userId = user?.id;\n    const [isApproved, setIsApproved] = useState(false);  // true = Approved, false = Rejected\n    const [approvalHistory, setApprovalHistory] = useState<BookingDetailView | null>(null);\n    const [previewUrl, setPreviewUrl] = useState<string>('');\n    const [isModalOpen, setIsModalOpen] = useState(false);\n\n    const [error, setError] = useState<string | null>(null);\n\n    // Fetch data when `isApproved` changes\n    useEffect(() => {\n        const fetchApprovalHistory = async () => {\n            try {\n                const response = await fetch(`${BackendApiUrl.getApproverHistory}?UserId=${userId}&IsApproved=${isApproved}`);\n                if (!response.ok) {\n                    throw new Error('Failed to fetch approval history');\n                }\n                const data: BookingDetailView = await response.json();\n                setApprovalHistory(data);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : 'Unknown error');\n            }\n        };\n\n        if (userId) {\n            fetchApprovalHistory();\n        }\n    }, [isApproved, userId]); // Re-run when `isApproved` or `userId` changes\n\n    const handleButtonClick = (approved: boolean) => {\n        setIsApproved(approved); // Update the state to filter based on approval status\n    };\n\n    if (error) {\n        return <div>Error loading data: {error}</div>;\n    }\n\n    const handlePreviewClick = (url: string) => {\n        setPreviewUrl(url);\n        setIsModalOpen(true);\n    };\n\n    const handleHistoryDetail = (bookingId) => {\n        router.push(`/approverHistory/${bookingId}`);\n    }\n\n    const handleDownloadClick = (booking: BookingData) => {\n        if (!booking) {\n          console.error(\"Booking data is not available.\");\n          return;\n        }\n      \n        // Construct the filename based on the booking role\n        let filename = `EVIDENCE_${booking.bookingDescription}_${booking.bookingInstitutionalId}_${booking.bookerName}`;\n      \n        // If the user role is Staff or StudentOrganization, append the booking organization name\n        if (booking.bookerUserRole === 'Staff' || booking.bookerUserRole === 'StudentOrganization') {\n          filename += `_${booking.bookingOrganizationName}`;\n        }\n      \n        // Extract the file extension (assuming it's an image or file) from the URL\n        const fileExtension = booking.evidenceMinioUrl.split('.').pop();\n        filename += `.${fileExtension}`;\n      \n        // Create an invisible link to trigger the download\n        const link = document.createElement('a');\n        link.href = booking.evidenceMinioUrl;\n        link.download = filename;\n      \n        // Trigger the click event to start the download\n        link.click();\n      };\n\n    return (\n        <div className=\"mt-3 h-[650px]\">\n            <img\n                src=\"/Assets/images/Approval-History.png\"\n                alt=\"Ongoing\"\n                width={410}\n                height={40}\n                className=\"mt-16\"\n            />\n            <div className=\"flex mt-4 mb-6\">\n                    {/* Container for menu buttons */}\n                    <button\n                        className={`rounded-md text-white text-xl ${isApproved ? 'underline' : ''} ${isApproved ? 'underline-offset-8' : ''}`}\n                        onClick={() => handleButtonClick(true)}\n                    >\n                        Approved\n                    </button>\n                    <button\n                        className={`rounded-md ml-8 text-white text-xl ${!isApproved? 'underline' : ''} ${!isApproved ? 'underline-offset-8' : ''}`}\n                        onClick={() => handleButtonClick(false)}\n                    >\n                        Rejected\n                    </button>\n                </div>\n\n            <div className=\"mt-8 grid grid-cols-3 gap-5 overflow-y-auto h-[500px]\">\n                {/* Render booking data */}\n                {approvalHistory?.approverHistoryViewModel?.map((booking, index) => (\n                    <div\n                        key={index}\n                        className=\"bg-white p-4 rounded-lg h-[250px] overflow-y-auto\"\n                    >\n                        <div className='flex flex-col h-full'>\n                            <div className=''>\n                                <p className='text-2xl font-semibold'>\n                                    &quot;{booking.bookingDescription}&quot;\n                                </p>\n                            </div>\n                            <div className=''>\n                                <p className='text-lg'>\n                                    {booking.roomName}\n                                </p>\n                            </div>\n                            <div className='flex flex-col gap-1 mb-2'>\n                                <p className='text-xs'> Submitted By :</p>\n                                <div className='flex items-center gap-2'>\n                                    <img src={booking.bookerMinioUrl} alt=\"\" className='w-10 h-10 rounded-full border-2 border-purple-950'/>\n                                    {booking?.bookerUserRole === 'Staff' || booking?.bookerUserRole === 'StudentOrganization' ? \n                                    <div className='flex flex-col'>\n                                        <p className=''>{booking?.bookingInstitutionalId} - {booking?.bookerName}</p>\n                                        <p className=''>{booking?.bookingOrganizationName}</p>\n                                    </div>\n                                    :\n                                    <div>\n                                        <p>{booking?.bookingInstitutionalId} - {booking?.bookerName}</p>\n                                    </div>\n                                }\n                                </div>\n                            </div>\n                            <div className=''>\n                                {booking.approverHistory.map((history) => (\n                                   <div key={history.approverUserId} className='flex justify-center'>\n                                        <p className={`${history.statusId == 2 ? 'text-green-600' : 'text-red-600'} text-2xl font-bold`}>\n                                            {history.statusName}\n                                        </p>\n                                   </div>\n                                ))}\n                            </div>\n                            <div className='h-full flex justify-center items-center gap-4'>\n                                <button className={`w-10 h-10 rounded-full \n                                                ${booking?.bookerUserRole == 'Staff' || booking?.bookerUserRole == 'Student' || booking?.bookerUserRole == 'Lecturer' ? \n                                                'bg-gray-200 border-2 border-gray-400' : \n                                                'bg-purple-950'\n                                                }`} disabled={booking?.bookerUserRole == 'Staff' || booking?.bookerUserRole == 'Student' || booking?.bookerUserRole== 'Lecturer' ? true : false}\n                                                onClick={() => handlePreviewClick(booking?.evidenceMinioUrl || '')}>\n                                    <FontAwesomeIcon icon={faEye} className=\"inline text-white\" />\n                                </button>\n                                <button\n                                        className={`w-10 h-10 rounded-full \n                                            ${booking?.bookerUserRole == 'Staff' || booking?.bookerUserRole == 'Student' || booking?.bookerUserRole == 'Lecturer' ? \n                                            'bg-gray-200 border-2 border-gray-400' : \n                                            'bg-purple-950'\n                                            }`}\n                                        onClick={() => booking ? handleDownloadClick(booking) : null}\n                                        disabled={booking?.bookerUserRole == 'Staff' || booking?.bookerUserRole == 'Student' || booking?.bookerUserRole == 'Lecturer'}\n                                        >\n                                    <FontAwesomeIcon icon={faDownload} className=\"inline text-white\" />\n                                </button>\n                                <button className='bg-purple-950 w-10 h-10 rounded-full' onClick={()=> handleHistoryDetail(booking.bookingId)}>\n                                    <FontAwesomeIcon icon={faSearch} className=\"inline text-white\" />\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                ))}\n\n                {/* If no data */}\n                {!approvalHistory?.approverHistoryViewModel?.length && (\n                    <div className='flex absolute items-center'>\n                        <p className='text-white text-3xl font-bold mr-3'>:)</p>\n                        <p className='text-white text-2xl font-normal'>\n                            No Approved bookings yet. Your approvals on bookings will show up here.\n                        </p>            \n                </div>\n                )}\n            </div>\n            <PreviewModal\n                isOpen={isModalOpen}\n                onClose={() => setIsModalOpen(false)}\n                minioUrl={previewUrl}\n            />\n        </div>\n    );\n};\n\nApproverHistory.layout = WithDefaultLayout;\nexport default ApproverHistory;\n"],"names":["window","__NEXT_P","push","__webpack_require__","PreviewModal","isOpen","onClose","minioUrl","param","useEffect","document","body","style","overflow","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","div","className","jsxs","button","onClick","FontAwesomeIcon","icon","faX","img","src","alt","__webpack_exports__","ApproverHistory","approvalHistory","router","useRouter","data","session","useSession","user","userId","id","isApproved","setIsApproved","useState","setApprovalHistory","previewUrl","setPreviewUrl","isModalOpen","setIsModalOpen","error","setError","fetchApprovalHistory","response","fetch","BackendApiUrl","concat","ok","json","err","Error","message","handleButtonClick","approved","handlePreviewClick","url","handleHistoryDetail","bookingId","handleDownloadClick","booking","console","filename","bookingDescription","bookingInstitutionalId","bookerName","bookerUserRole","bookingOrganizationName","fileExtension","evidenceMinioUrl","split","pop","link","createElement","href","download","click","width","height","approverHistoryViewModel","map","index","p","roomName","bookerMinioUrl","approverHistory","history","statusId","statusName","approverUserId","disabled","faEye","faDownload","faSearch","length","layout","WithDefaultLayout"],"sourceRoot":""}